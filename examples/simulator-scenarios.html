<!DOCTYPE html>
<html lang='en' type="module">
<head>
  <base href=".">
  <meta charset='UTF-8'>
  <title>Orb | Simple graph</title>
  <script type="text/javascript" src="./orb.js"></script>
</head>
<style>
  html, body {
    height: 100%;
    width: 80%;
    margin: 0 auto;
    font-family: 'Courier New', Courier, monospace;
    font-weight: 400;
  }
  ul {
    padding-left: 20px;
    margin: 5px;
  }
  h3 {
    margin: 10px 0 0;
  }
  h4 {
    margin: 10px;
  }
  .red {
    color: red;
    font-weight: 600;
  }
  .green {
    color: green;
    font-weight: 600;
  }
  .old-free {
    color: #003A58;
    font-weight: 600;
  }
  .old-fixed {
    font-weight: 600;
    color: #5B0078;
  }
  .old-mixed {
    font-weight: 600;
    background: -webkit-linear-gradient(90deg, #003A58, #5B0078);
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .new-free {
    font-weight: 600;
    color: #C85800;
  }
  .new-fixed {
    font-weight: 600;
    color: #9C1B1B;
  }
  .new-mixed {
    font-weight: 600;
    background: linear-gradient(90deg, #C85800, #9C1B1B);
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .flex-column {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
  }
  .flex-row {
    display: flex;
    justify-content: center;
    align-items: stretch;
  }
  .scenario-matrix {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .scenario {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 5px 5px 10px;
    justify-content: space-between;
  }
  .scenario-description {
    align-self: left;
    font-size: 0.85rem;
  }
  .scenario-title {
    flex: 0;
    text-align: center;
  }
  .scenario-state {
    opacity: 0.8;
  }
  .scenario-action {
    font-weight: 600;
  }
  .scenario-outcome {

  }
  .scenario-row {

  }
  .scenario-row-physics-indicator {
    width: 1.5rem;
    transform: rotate(-90deg);
    align-self: center;
  }
  .physics-checkbox {
    font-size: 0.8rem;
  }
  .sticky-checkbox {
    font-size: 0.8rem;
  }
  .run-scenario-button {
  }
  .add-free-nodes-button {

  }
  .add-fixed-nodes-button {

  }
  .change-settings-button {

  }
  .top-left {
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    z-index: 100;
  }
  .top-right {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    z-index: 100;
  }
  .bottom-left {
    position: absolute;
    bottom: 0.5rem;
    left: 0.5rem;
    z-index: 100;
  }
  .bottom-right {
    position: absolute;
    bottom: 0.5rem;
    right: 0.5rem;
    z-index: 100;
  }
  .graph-container {
    width: 350px;
    height: 220px;
    border: 1px solid;
    position: relative;
    margin-top: 10px;
  }
</style>
<body>
<!--  <div id='graph' style="height: 800px; width: 1000px; border: 1px solid black;"></div>-->
  <div class="flex-column">
    <h1>Simulator Scenarios test</h1>

    <div class="flex-row">
      <p>Toggle physics for all scenarios:</p>
      <input id="globalPhysicsCheckbox" type="checkbox" onclick="toggleAllPhysicsCheckboxes()">
    </div>

    <p>
      This page is used to manually test various simulator engine scenarios.
      It consists of 2 parts - the playground and the scenario matrix.
    </p>

    <p>
      The playground provides 3 initial states with some added convenience tools that enables playing around with more complex actions.
    </p>

    <p>
      The scenario matrix consists of several scenarios aligned in a grid which demonstrate the behavior of the simulator engine
      for specific user actions in certain states.
      It serves as a testing environment and requires manual running and checking with expected outcomes.
    </p>

    <div class="playground">
      <h2>Playground</h2>

      <div class="flex-row">
        <div class="scenario">
          <div class="scenario-title">
            1) Nodes free
          </div>
          <div class="scenario-description">
            <ul>
              <li>Turning on physics should "re-heat" the nodes.</li>
              <li>This action doesn't produce a progress event and isn't blocking.</li>
            </ul>
          </div>
          <div id='nodesFree' class="graph-container">
            <span class="physics-checkbox top-right">
              physics: <input class="physics-checkbox" type="checkbox">
            </span>
            <span class="sticky-checkbox bottom-right">
              Sticky: <input class="sticky-checkbox" type="checkbox">
            </span>
            <button class="change-settings-button bottom-left">
              change settings
            </button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-title">
            2) Nodes fixed
          </div>
          <div class="scenario-description">
            <ul>
              <li>Turning on physics shouldn't do anything.</li>
              <li>The fixed nodes remain fixed, physics has no effect on them.</li>
              <li>The question is what happens when dragging such nodes?</li>
            </ul>
          </div>
          <div id='nodesFixed' class="graph-container">
            <button class="top-left">
              RESET
            </button>
            <span class="physics-checkbox top-right">
              physics: <input class="physics-checkbox" type="checkbox">
            </span>
            <span class="sticky-checkbox bottom-right">
              Sticky: <input class="sticky-checkbox" type="checkbox">
            </span>
            <button class="change-settings-button bottom-left">
              change settings
            </button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-title">
            3) Some nodes free, some nodes fixed
          </div>
          <div class="scenario-description">
            <ul>
              <li>Turning on physics shouldn't do anything for the fixed nodes.</li>
              <li>The free nodes get "re-heated".</li>
              <li>The fixed nodes remain fixed, physics has no effect on them.</li>
              <li>The question is what happens when dragging such nodes?</li>
            </ul>
          </div>
          <div id='nodesMixed' class="graph-container">
            <span class="physics-checkbox top-right">
              Physics: <input class="physics-checkbox" type="checkbox">
            </span>
            <span class="sticky-checkbox bottom-right">
              Sticky: <input class="sticky-checkbox" type="checkbox">
            </span>
            <button class="change-settings-button bottom-left">
              change settings
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="scenario-matrix">

      <h3>Setup <span class="new-free">FREE</span> nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Setup a new graph with <span class="new-free">free</span> nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='1.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-free">free</span> nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='1.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-free">free</span> nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 1.2.0)</li>
            </ul>
          </div>
          <div id='1.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-free">free</span> nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='1.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-free">free</span> nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='1.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-free">free</span> nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='1.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-free">free</span> nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 1.2.1)</li>
            </ul>
          </div>
          <div id='1.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 1.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-free">free</span> nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='1.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>


      <h3>Setup <span class="new-fixed">FIXED</span> nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 2.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Set up a new graph with <span class="new-fixed">fixed</span> nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates a new graph with a predefined layout from the nodes' coordinates.</li>
              <li>Dragging a node
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='2.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Merge <span class="new-free">FREE</span> nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Add <span class="new-free">free</span> nodes to a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='3.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Add new <span class="new-free">free</span> nodes to an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>The added nodes and edges merge with the existing ones.</li>
              <li>The existing nodes get "re-heated" and simulate to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='3.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-free">free</span> nodes to an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>The added nodes and edges merge with the existing ones.</li>
              <li>The existing nodes do not move and remain at their previous coordinates.</li>
              <li>The simulator repositions the new nodes and they converge to new coordinates by adjusting to the existing fixed nodes.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='3.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-free">free</span> nodes to an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>The added nodes and edges merge with the existing ones.</li>
              <li>The <span class="old-fixed">existing fixed nodes</span> do not move and remain at their previous coordinates.</li>
              <li>The <span class="old-free">existing free nodes</span> get "re-heated" and simulate into place together with the <span class="new-free">new free nodes</span>.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='3.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Set up new free nodes on a blank canvas.</div>
            <div class="scenario-action">Action: Add new <span class="new-free">free</span> nodes to a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>The added nodes and edges simulate into a new layout and form a new graph.</li>
              <li>Dragging a node "re-heats" other nodes and rearranges the layout.</li>
            </ul>
          </div>
          <div id='3.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Set up new free nodes when there is an existing graph with free nodes.</div>
            <div class="scenario-action">Action: Add new <span class="new-free">free</span> nodes to an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>The <span class="new-free">new free nodes</span> merge with the <span class="old-free">existing free nodes</span> which get "re-heated" and simulate to a new layout.</li>
              <li>Dragging a node "re-heats" other nodes and rearranges the layout.</li>
            </ul>
          </div>
          <div id='3.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-free">free</span> nodes to an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>The <span class="new-free">new free nodes</span> merge with the <span class="old-fixed">existing fixed nodes</span>.</li>
              <li>The <span class="old-fixed">existing fixed nodes</span> do not move.</li>
              <li>The simulator repositions the <span class="new-free">new free nodes</span> so that they adjust to the <span class="old-fixed">existing nodes</span>.</li>
              <li>Dragging a node "re-heats" the <span class="new-free">new nodes</span> but the <span class="old-fixed">existing fixed nodes</span> do not move.</li>
            </ul>
          </div>
          <div id='3.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 3.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-free">free</span> nodes to an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>The <span class="new-free">new free nodes</span> merge with the <span class="old-mixed">existing nodes</span>.</li>
              <li>The <span class="old-fixed">existing fixed nodes</span> do not move.</li>
              <li>The simulator repositions the <span class="new-free">new free nodes</span> along with the <span class="old-free">existing free nodes</span> so that they adjust to the <span class="old-fixed">existing fixed nodes</span>.</li>
              <li>Dragging a node "re-heats" the <span class="new-free">new nodes</span> and the <span class="old-free">existing free nodes,</span> but the <span class="old-fixed">existing fixed nodes</span> do not move.</li>
            </ul>
          </div>
          <div id='3.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Merge <span class="new-fixed">FIXED</span> nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Set up new free nodes on a blank canvas.</div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>The added nodes form a static layout.</li>
              <li>Dragging a node:
                <ol>
                  <li>Returns it to the initial position.</li>
                  <li>Releases the node.</li>
                  <li>Fixes the node to the dragged position.</li>
                </ol>
              </li>
            </ul>
          </div>
          <div id='4.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>The <span class="new-fixed">added nodes and edges</span> pop into place and do not move.</li>
              <li>The <span class="old-free">existing nodes</span> get "re-heated" and the simulator repositions them so that they adjust around the <span class="new-fixed">newly added fixed nodes</span>.</li>
              <li>Dragging a node</li>
            </ul>
          </div>
          <div id='4.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 4.2.0)</li>
            </ul>
          </div>
          <div id='4.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 4.2.0 and 4.4.0)</li>
            </ul>
          </div>
          <div id='4.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='4.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='4.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 4.2.1)</li>
            </ul>
          </div>
          <div id='4.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 4.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Add new <span class="new-fixed">fixed</span> nodes to an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 4.2.1 and 4.4.1)</li>
            </ul>
          </div>
          <div id='4.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Delete all nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Delete all nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='5.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Delete all nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='5.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Delete all nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='5.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Delete all nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='5.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Delete all nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='5.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Delete all nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='5.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Delete all nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='5.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 5.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Delete all nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='5.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Delete some nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Delete some nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='6.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Delete some nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='6.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Delete some nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='6.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Delete some nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='6.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Delete some nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='6.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Delete some nodes when there is an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='6.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Delete some nodes when there is an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='6.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 6.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Delete some nodes when there is an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='6.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Collapse</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Collapse a node on a blank canvas</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='7.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Collapse a node on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='7.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Collapse a node on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='7.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Collapse a node on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='7.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Collapse a node on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='7.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Collapse a node on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='7.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Collapse a node on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='7.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 7.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Collapse a node on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='7.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Change simulation settings</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Change simulation settings on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='8.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Change simulation settings on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='8.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Change simulation settings on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='8.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Change simulation settings on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='8.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Change simulation settings on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='8.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Change simulation settings on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='8.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Change simulation settings on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='8.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 8.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Change simulation settings on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='8.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Enable physics</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Enable physics on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='9.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Enable physics on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='9.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Enable physics on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='9.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Enable physics on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='9.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Enable physics on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='9.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Enable physics on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='9.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Enable physics on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='9.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 9.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Enable physics on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='9.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Disable physics</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Disable physics on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='10.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Disable physics on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='10.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Disable physics on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='10.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Disable physics on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='10.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Fix nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='10.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Disable physics on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='10.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Disable physics on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='10.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 10.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='10.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Fix nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Fix nodes on a blank canvas</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='11.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='11.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='11.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='11.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Set up new free nodes on a blank canvas.</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='11.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='11.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='11.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 11.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Fix nodes on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='11.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <h3>Release nodes</h3>

      <div class="flex-row">
        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="red">OFF</span></span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.1.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes NONE</div>
            <div class="scenario-action">Action: Release nodes on a blank canvas</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='12.1.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.2.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Release nodes on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='12.2.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.3.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Release nodes on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0)</li>
            </ul>
          </div>
          <div id='12.3.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.4.0
            </h4>
            <div class="scenario-state">State: Physics <span class="red">OFF</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Release nodes on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.0 and 3.3.0)</li>
            </ul>
          </div>
          <div id='12.4.0' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

      <div class="flex-row scenario-row">

        <div class="scenario-row-physics-indicator">
          <div style="width: 200px;">
            Physics <span class="green">ON</span>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.1.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes NONE</div>
            <div class="scenario-action">Action: Release nodes on a blank canvas</div>
            <div class="scenario-outcome">Outcome:</div>
            <ul>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='12.1.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.2.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-free">FREE</span></div>
            <div class="scenario-action">Action: Release nodes on an existing graph with <span class="old-free">free</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
            </ul>
          </div>
          <div id='12.2.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.3.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-fixed">FIXED</span></div>
            <div class="scenario-action">Action: Release nodes on an existing graph with <span class="old-fixed">fixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1)</li>
            </ul>
          </div>
          <div id='12.3.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

        <div class="scenario">
          <div class="scenario-description">
            <h4 class="scenario-title">
              # 12.4.1
            </h4>
            <div class="scenario-state">State: Physics <span class="green">ON</span>, nodes <span class="old-mixed">MIXED</span></div>
            <div class="scenario-action">Action: Release nodes on an existing graph with <span class="old-mixed">mixed</span> nodes.</div>
            <div class="scenario-outcome">Outcome: </div>
            <ul>
              <li>Deletes existing graph.</li>
              <li>Creates new nodes and the simulator positions them to a new layout.</li>
              <li>Dragging a node doesn't affect other nodes.</li>
              <li>(same as 3.2.1 and 3.3.1)</li>
            </ul>
          </div>
          <div id='12.4.1' class="graph-container">
            <button class="run-scenario-button top-right">Run</button>
          </div>
        </div>

      </div>

    </div>
  </div>

  <script type="text/javascript">
    const NODE_COUNT = 50;
    const NEW_NODE_COUNT = 20;

    const getNewFreeNodes = (newNodeCount = NODE_COUNT, oldNodeCount = 0, sourceNode) => ({
      nodes: [...Array(newNodeCount).keys()].map((key) => ({
        id: oldNodeCount + key,
        label: key.toString()
      })),
      edges: [...Array(newNodeCount).keys()].map((key) => ({
        id: oldNodeCount + key,
        start: !!sourceNode ? sourceNode.id : Math.floor(Math.sqrt(oldNodeCount + key)),
        end: oldNodeCount + key + 1
      })),
    });

    const getLogarithmicSpiralCoordinates = (index, sourceNode) => ({
      x: (index * 2) * Math.cos(Math.PI / 8 * index) + (sourceNode?.position?.x || 0),
      y: (index * 2) * Math.sin(Math.PI / 8 * index) + (sourceNode?.position?.y || 0),
    });

    const getNewFixedNodes = (newNodeCount = NODE_COUNT, oldNodeCount = 0, sourceNode) => ({
      nodes: [...Array(newNodeCount).keys()].map((key) => ({
        id: oldNodeCount + key,
        label: key.toString(),
        ...getLogarithmicSpiralCoordinates(!!sourceNode ? key : oldNodeCount + key, sourceNode),
      })),
      edges: [...Array(newNodeCount).keys()].map((key) => ({
        id: oldNodeCount + key,
        start: key ? oldNodeCount + key : (sourceNode?.id || 0),
        end: oldNodeCount + key + 1
      })),
    });

    const getBlockCoordinates = (index, sourceNode) => ({
      x: 100 + Math.floor(index / 10) * 20,
      y: -50 + (index % 10) * 10,
    });

    const getMixedNodes = (newNodeCount = NODE_COUNT) => {
      const nodes = [...Array(Math.floor(newNodeCount / 2)).keys()].map((key) => ({
        id: key,
        label: key.toString(),
        ...getBlockCoordinates(key),
      }));
      const edges = [...Array(newNodeCount).keys()].map((key) => ({
        id: key,
        start: key,
        end: key + 1
      }));

      const data = getNewFreeNodes(Math.ceil(newNodeCount / 2), Math.floor(newNodeCount / 2), nodes.slice(-1)[0]);
      return {
        nodes: nodes.concat(data.nodes),
        edges: edges.concat(data.edges),
      }
    }

    const toggleAllPhysicsCheckboxes = () => {
      const globalPhysicsCheckbox = document.getElementById('globalPhysicsCheckbox');
      for (let element of document.getElementsByClassName('checkbox')) {
        element.checked = globalPhysicsCheckbox.checked;
      }
    }

    const graphStyle = {
      getNodeStyle(node) {
        const isNewNode = node.id >= NODE_COUNT;
        const isFixed = node.data.x !== undefined && node.data.y !== undefined;

        // Old nodes
        let color = isFixed ? '#5B0078' : '#003A58';
        let colorHover = isFixed ? '#720096' : '#005070';
        let colorSelected = isFixed ? '#8C0082':  '#006B99';

        // New nodes
        if (isNewNode) {
          color = isFixed ? '#9C1B1B' : '#C85800';
          colorHover = isFixed ? '#AF1B0E' : '#DE6B00';
          colorSelected = isFixed ? '#C9290F' : '#EE7B00';
        }

        return {
          color,
          colorHover,
          colorSelected,
          fontSize: 4,
          fontColor: '#000000',
          label: node.data.label,
          size: 6,
        };
      },
      getEdgeStyle(edge) {
        return {
          color: '#DDDDDD',
          colorHover: '#999999',
          colorSelected: '#000000',
          fontSize: 3,
          fontColor: '#000000',
          width: 1.2,
          widthHover: 1.3,
          widthSelected: 1.5,
          label: edge.data.label,
        };
      },
    };

    // Playground ========================================

    const initialExampleSetup = (graphContainerId, nodes, edges, callback) => {
      const container = document.getElementById(graphContainerId);

      let orb = new Orb.OrbView(container, {
        getPosition: (node) => ({ x: node.data.x, y: node.data.y })
      });

      // Assign a basic style
      orb.data.setDefaultStyle(graphStyle);

      // Initialize nodes and edges
      orb.data.setup({ nodes, edges });

      // Render and recenter the view
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
        if (callback) {
          callback(orb);
        }
      });

      const globalPhysicsCheckbox = document.getElementById('globalPhysicsCheckbox');
      globalPhysicsCheckbox.addEventListener('click', () => {
        orb.setSettings({ simulation: { isPhysicsEnabled: globalPhysicsCheckbox.checked } });
      });

      const containerPhysicsCheckbox = container.getElementsByClassName('physics-checkbox')[0];
      containerPhysicsCheckbox.addEventListener('click', () => {
        orb.setSettings({ simulation: { isPhysicsEnabled: containerPhysicsCheckbox.checked } });
      });

      const containerStickyCheckbox = container.getElementsByClassName('sticky-checkbox')[0];
      containerStickyCheckbox.addEventListener('click', () => {
        // TODO(dlozic): Fill out after introducing sticky logic.
        console.log('enabling sticky');
      });

      const containerSettingsButton = container.getElementsByClassName('change-settings-button')[0];
      containerSettingsButton.addEventListener('click', () => {
        orb.setSettings({
          simulation: {
            collision: {
              radius: Math.random() * 20,
              strength: Math.random() * 5,
            },
            links: {
              distance: Math.random() * 100,
            },
            manyBody: {
              strength: -(Math.random() * 100),
            }
          },
        });
      });

      /*
      const containerResetButton = container.getElementsByClassName('reset-button')[0];
      containerResetButton.addEventListener('click', () => {
        console.log('reset data');
      });
      */

      orb.events.on(Orb.OrbEventType.NODE_CLICK, (event) => {
        const newNodes = event.event.shiftKey ?
          getNewFixedNodes(NEW_NODE_COUNT, orb.data.getNodes().length, event.node) :
          getNewFreeNodes(NEW_NODE_COUNT, orb.data.getNodes().length, event.node);
        orb.data.merge(newNodes);
        orb.render();
      });
    }

    const initialExampleSetupFree = (graphContainerId, callback) => {
      const { nodes, edges } = getNewFreeNodes(NODE_COUNT);
      initialExampleSetup(graphContainerId, nodes, edges, callback);
    }

    const initialExampleSetupFixed = (graphContainerId, callback) => {
      const { nodes, edges } = getNewFixedNodes(NODE_COUNT);
      initialExampleSetup(graphContainerId, nodes, edges, callback);
    }

    /*
    initialExampleSetupFree('nodesFree');

    initialExampleSetupFixed('nodesFixed');

    initialExampleSetupFixed('nodesMixed', (orb) => {
      setTimeout(() => {
        orb.data.merge(getNewFreeNodes(10, NODE_COUNT));
        orb.render(() => {
          setTimeout(() => {
            orb.recenter();
          }, 500);
        });
      }, 2000);
    });
    */

    // Scenario Matrix =========================================

    const initialScenarioSetup = (graphContainerId, nodes, edges, callback, isPhysicsEnabled=false) => {
      const container = document.getElementById(graphContainerId);

      let orb = new Orb.OrbView(container, {
        getPosition: (node) => ({ x: node.data.x, y: node.data.y }),
        simulation: {
          isPhysicsEnabled,
        }
      });

      // Assign a basic style
      orb.data.setDefaultStyle(graphStyle);

      // Initialize nodes and edges
      orb.data.setup({ nodes, edges });

      // Render and recenter the view
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });

      const containerRunButton = container.getElementsByClassName('run-scenario-button')[0];
      containerRunButton.addEventListener('click', () => {
        callback(orb);
      });
    }

    const initialScenarioSetupFree = (graphContainerId, callback, isPhysicsEnabled) => {
      const { nodes, edges } = getNewFreeNodes(NODE_COUNT);
      initialScenarioSetup(graphContainerId, nodes, edges, callback, isPhysicsEnabled);
    }

    const initialScenarioSetupFixed = (graphContainerId, callback, isPhysicsEnabled) => {
      const { nodes, edges } = getNewFixedNodes(NODE_COUNT);
      initialScenarioSetup(graphContainerId, nodes, edges, callback, isPhysicsEnabled);
    }

    const initialScenarioSetupMixed = (graphContainerId, callback, isPhysicsEnabled) => {
      const { nodes, edges } = getMixedNodes(NODE_COUNT);
      initialScenarioSetup(graphContainerId, nodes, edges, callback, isPhysicsEnabled);
    }

    /*
    // Setup FREE nodes
    const setupFreeNodes = (orb) => {
      const { nodes, edges } = getNewFreeNodes(NODE_COUNT);
      orb.data.setup({ nodes, edges });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('1.1.0', undefined, undefined, setupFreeNodes);
    initialScenarioSetupFree('1.2.0', setupFreeNodes);
    initialScenarioSetupFixed('1.3.0', setupFreeNodes);
    initialScenarioSetupMixed('1.4.0', setupFreeNodes);
    initialScenarioSetup('1.1.1', undefined, undefined, setupFreeNodes, true);
    initialScenarioSetupFree('1.2.1', setupFreeNodes, true);
    initialScenarioSetupFixed('1.3.1', setupFreeNodes, true);
    initialScenarioSetupMixed('1.4.1', setupFreeNodes, true);

    // Setup FIXED nodes
    const setupFixedNodes = (orb) => {
      const { nodes, edges } = getNewFixedNodes(NODE_COUNT);
      orb.data.setup({ nodes, edges });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('2.1.0', undefined, undefined, setupFixedNodes);
    initialScenarioSetupFree('2.2.0', setupFixedNodes);
    initialScenarioSetupFixed('2.3.0', setupFixedNodes);
    initialScenarioSetupMixed('2.4.0', setupFixedNodes);
    initialScenarioSetup('2.1.1', undefined, undefined, setupFixedNodes, true);
    initialScenarioSetupFree('2.2.1', setupFixedNodes, true);
    initialScenarioSetupFixed('2.3.1', setupFixedNodes, true);
    initialScenarioSetupMixed('2.4.1', setupFixedNodes, true);

    // Merge FREE nodes
    const mergeFreeNodes = (orb) => {
      const { nodes, edges } = getNewFreeNodes(NODE_COUNT, NODE_COUNT);
      orb.data.merge({ nodes, edges });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('3.1.0', undefined, undefined, mergeFreeNodes);
    initialScenarioSetupFree('3.2.0', mergeFreeNodes);
    initialScenarioSetupFixed('3.3.0', mergeFreeNodes);
    initialScenarioSetupMixed('3.4.0', mergeFreeNodes);
    initialScenarioSetup('3.1.1', undefined, undefined, mergeFreeNodes, true);
    initialScenarioSetupFree('3.2.1', mergeFreeNodes, true);
    initialScenarioSetupFixed('3.3.1', mergeFreeNodes, true);
    initialScenarioSetupMixed('3.4.1', mergeFreeNodes, true);

    // Merge FIXED nodes
    const mergeFixedNodes = (orb) => {
      const { nodes, edges } = getNewFixedNodes(NODE_COUNT, NODE_COUNT);
      orb.data.merge({ nodes, edges });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('4.1.0', undefined, undefined, mergeFixedNodes);
    initialScenarioSetupFree('4.2.0', mergeFixedNodes);
    initialScenarioSetupFixed('4.3.0', mergeFixedNodes);
    initialScenarioSetupMixed('4.4.0', mergeFixedNodes);
    initialScenarioSetup('4.1.1', undefined, undefined, mergeFixedNodes, true);
    initialScenarioSetupFree('4.2.1', mergeFixedNodes, true);
    initialScenarioSetupFixed('4.3.1', mergeFixedNodes, true);
    initialScenarioSetupMixed('4.4.1', mergeFixedNodes, true);
    */

    // Delete all nodes
    const deleteAllNodes = (orb) => {
      console.log('orb', orb.data.getNodes(), orb.data.getNodes().map((node) => node.id))
      orb.data.remove({
        nodeIds: orb.data.getNodes().map((node) => node.id),
        edgeIds: orb.data.getEdges().map((edge) => edge.id),
      });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('5.1.0', undefined, undefined, deleteAllNodes);
    initialScenarioSetupFree('5.2.0', deleteAllNodes);
    initialScenarioSetupFixed('5.3.0', deleteAllNodes);
    initialScenarioSetupMixed('5.4.0', deleteAllNodes);
    initialScenarioSetup('5.1.1', undefined, undefined, deleteAllNodes, true);
    initialScenarioSetupFree('5.2.1', deleteAllNodes, true);
    initialScenarioSetupFixed('5.3.1', deleteAllNodes, true);
    initialScenarioSetupMixed('5.4.1', deleteAllNodes, true);

    // Delete some nodes
    const range = (from, to, step) => [...Array(Math.floor((to - from) / step) + 1)].map((_, i) => from + i * step);
    const deleteSomeNodes = (orb) => {
      const nodeIds = range(0, NODE_COUNT, 4);
      const edgeIds = range(1, NODE_COUNT, 6);
      console.log('edge ids delete', edgeIds);
      orb.data.remove({ nodeIds, edgeIds });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('6.1.0', undefined, undefined, deleteSomeNodes);
    initialScenarioSetupFree('6.2.0', deleteSomeNodes);
    initialScenarioSetupFixed('6.3.0', deleteSomeNodes);
    initialScenarioSetupMixed('6.4.0', deleteSomeNodes);
    initialScenarioSetup('6.1.1', undefined, undefined, deleteSomeNodes, true);
    initialScenarioSetupFree('6.2.1', deleteSomeNodes, true);
    initialScenarioSetupFixed('6.3.1', deleteSomeNodes, true);
    initialScenarioSetupMixed('6.4.1', deleteSomeNodes, true);

    /*
    // Collapse
    initialScenarioSetup('7.1.0', undefined, undefined, (orb) => {
    });
    initialScenarioSetupFree('7.2.0', (orb) => {
    });
    initialScenarioSetupFixed('7.3.0', (orb) => {
    });
    initialScenarioSetupMixed('7.4.0', (orb) => {
    });
    initialScenarioSetup('7.1.1', undefined, undefined, (orb) => {
    }, true);
    initialScenarioSetupFree('7.2.1', (orb) => {
    }, true);
    initialScenarioSetupFixed('7.3.1', (orb) => {
    }, true);
    initialScenarioSetupMixed('7.4.1', (orb) => {
    }, true);
    */

    // Change simulation settings
    const changeSimulationSettings = (orb) => {
      orb.setSettings({
        simulation: {
          collision: {
            radius: Math.random() * 20,
            strength: Math.random() * 5,
          },
          links: {
            distance: Math.random() * 100,
          },
          manyBody: {
            strength: -(Math.random() * 100),
          }
        },
      });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('8.1.0', undefined, undefined, changeSimulationSettings);
    initialScenarioSetupFree('8.2.0', changeSimulationSettings);
    initialScenarioSetupFixed('8.3.0', changeSimulationSettings);
    initialScenarioSetupMixed('8.4.0', changeSimulationSettings);
    initialScenarioSetup('8.1.1', undefined, undefined, changeSimulationSettings, true);
    initialScenarioSetupFree('8.2.1', changeSimulationSettings, true);
    initialScenarioSetupFixed('8.3.1', changeSimulationSettings, true);
    initialScenarioSetupMixed('8.4.1', changeSimulationSettings, true);

    // Enable physics
    const enablePhysics = (orb) => {
      orb.setSettings({
        simulation: {
          isPhysicsEnabled: true,
        },
      });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('9.1.0', undefined, undefined, enablePhysics);
    initialScenarioSetupFree('9.2.0', enablePhysics);
    initialScenarioSetupFixed('9.3.0', enablePhysics);
    initialScenarioSetupMixed('9.4.0', enablePhysics);
    initialScenarioSetup('9.1.1', undefined, undefined, enablePhysics, true);
    initialScenarioSetupFree('9.2.1', enablePhysics, true);
    initialScenarioSetupFixed('9.3.1', enablePhysics, true);
    initialScenarioSetupMixed('9.4.1', enablePhysics, true);

    // Disable physics
    const disablePhysics = (orb) => {
      orb.setSettings({
        simulation: {
          isPhysicsEnabled: true,
        },
      });
      orb.render(() => {
        setTimeout(() => {
          orb.recenter();
        }, 500);
      });
    }
    initialScenarioSetup('10.1.0', undefined, undefined, disablePhysics);
    initialScenarioSetupFree('10.2.0', disablePhysics);
    initialScenarioSetupFixed('10.3.0', disablePhysics);
    initialScenarioSetupMixed('10.4.0', disablePhysics);
    initialScenarioSetup('10.1.1', undefined, undefined, disablePhysics, true);
    initialScenarioSetupFree('10.2.1', disablePhysics, true);
    initialScenarioSetupFixed('10.3.1', disablePhysics, true);
    initialScenarioSetupMixed('10.4.1', disablePhysics, true);

    // Fix nodes
    const fixNodes = (orb) => {
      orb.fixNodes();
    }
    initialScenarioSetup('11.1.0', undefined, undefined, fixNodes);
    initialScenarioSetupFree('11.2.0', fixNodes);
    initialScenarioSetupFixed('11.3.0', fixNodes);
    initialScenarioSetupMixed('11.4.0', fixNodes);
    initialScenarioSetup('11.1.1', undefined, undefined, fixNodes, true);
    initialScenarioSetupFree('11.2.1', fixNodes, true);
    initialScenarioSetupFixed('11.3.1', fixNodes, true);
    initialScenarioSetupMixed('11.4.1', fixNodes, true);


    // Release nodes
    const releaseNodes = (orb) => {
      orb.releaseNodes();
    }
    initialScenarioSetup('12.1.0', undefined, undefined, releaseNodes);
    initialScenarioSetupFree('12.2.0', releaseNodes);
    initialScenarioSetupFixed('12.3.0', releaseNodes);
    initialScenarioSetupMixed('12.4.0', releaseNodes);
    initialScenarioSetup('12.1.1', undefined, undefined, releaseNodes, true);
    initialScenarioSetupFree('12.2.1', releaseNodes, true);
    initialScenarioSetupFixed('12.3.1', releaseNodes, true);
    initialScenarioSetupMixed('12.4.1', releaseNodes, true);

  </script>
</body>
</html>